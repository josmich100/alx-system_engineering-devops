#!/usr/bin/env bash
# This script displays information about subdomains for a given domain

domain=$1
subdomain=$2

# Function to get DNS information for a subdomain
get_dns_info() {
    sub_domain=$1
    dns_info=$(dig $sub_domain.$domain +short)
    record_type=$(dig $sub_domain.$domain | awk '/ANSWER SECTION/ {getline; print $4}')
    echo "The subdomain $sub_domain is a $record_type record and points to $dns_info"
}

# If no subdomain is provided, display information for default subdomains
if [ -z "$subdomain" ]; then
    get_dns_info www
    get_dns_info lb-01
    get_dns_info web-01
    get_dns_info web-02
else
    # Display information for the specified subdomain
    get_dns_info $subdomain
fi
